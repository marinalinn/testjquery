<!--
  Mini Twitter:
  Se pide construir una plataforma tipo Twitter de un sólo usuario:
  Utilizando sistema de grids se debe dividir el viewport en 2 columnas (Se recomienda Bootstrap):
  En la columna de la izquierda:
    - Crear un campo de texto donde el usuario pueda ingresar el texto del tweet
    - Agregar un botón para confirmar la creación
    - Incluir una foto de perfil donde se pueda agregar la foto del creador.
  En la columna de la derecha: Los tweets deben ser enlistados en bloques.
  (Cada tweet un nuevo row)
  Cada tweet de la lista debe tener un link que contenga un icono (❤ ) para dar like, un contador de likes (por defecto es cero), un botón para eliminar el tweet y la foto de perfil del creador.
  Al darle like al tweet:
    - El icono debe cambiar de color (destacando que ya se le ha hecho click).
    - El contador de likes debe incrementarse en 1.
    - En el caso de hacer dos o más clicks, el contador de likes debe seguir incrementándose.
    - Se debe mantener el cambio de color desde el segundo click en adelante.
  El botón de eliminar debe remover el tweet de la lista.
  Se recomienda usar FontAwesome para los iconos.
-->

<!DOCTYPE html>
<html>
<meta charset="utf-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
     <link rel="stylesheet" href="assets/css/style.css">
     <script src="assets/js/jquery-3.3.1.min.js"></script>

    <title>Mini Twitter</title>
  </head>
  <body>

    <nav class="navbar navbar-light bg-light">
        <a class="navbar-brand" href="#">
        <img src="assets/img/logo.png" width="50" height="50" alt="">
        </a>
    </nav>

    <div class="container">
      <div class="row">
        <div  class="col-sm-4">
            
            <div>
            <!--Aqui va a aparecer la imagen-->
            <img id="image"  src="" alt="">
            </div>

            <form id="uploader" action="">
            <input type="file">
            <button class="btn btn-primary upload">Upload</button>
            </form>

            <div class="tweet">
            <form>
                <div class="form-group">
                <label for="formGroupExampleInput"></label>
                <textarea type="text" id="tweet-text" ></textarea>
                <button type="button" class="btn btn-outline-primary" id="tweetear">Tweet</button>
            </div>


            
                
            </form>
            </div>
        </div>
        <div>
        
       <div class="container col-sm-8">
            <div class="right" id="timeline">
              
                  
                  
            </div>
          
        
    
   


    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script src=“https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js” integrity=“sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49” crossorigin=“anonymous”></script>
    <script src=“https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js” integrity=“sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T” crossorigin=“anonymous”></script>
    <script>
    jQuery (document).ready (function ($) {
    var tweetCount = 0;

    //aquí definimos como generar un tweet
    $("#tweetear").on ("click", function (event) {
    var tweet = $('#tweet-text').val ();
    if (!tweet) return;
    var id = 't'+ tweetCount;
    tweetCount ++; 

    //aquí definimos donde enviar los tweets hechos y le sumamos algunos elementos
    $("#timeline").append ('<p id="'+id+'" class="tweet">' + tweet + ' <i class="far fa-heart counter"> 0 <a href="#'+ id +'" class="remove-tweet"><i class="fas fa-trash-alt delete"></i></a></p>');
    
    //aquí definimos como y cuando eliminar un tweet
    $(".remove-tweet").on ("click", function (event) {
      event.preventDefault ();
      var id = $(this).attr ("href");
      $(id).remove ();
    });

    //aquí definimos como contar y como mostrar este conteo
    $(".counter").on("click", function(){ //llamando a todos los con clase --> counter
      var txt = $(this).text(); // this es el elemento o contexto, acá es el objeto que causa el evento
      var counter = parseInt(txt);
      console.log(counter + 0);
      $(this).text(counter + 1).text(numero); //el elemento clickeado  y agregar el numero del conteo
    });

  });
});

    //Aqui todo para subir una imagen al avatar y mostrarla en un tweet
    console.clear(); // Esto limpia la consola

    $("#uploader").submit(function(evt){
      evt.preventDefault();
  
      // Create a reader
      var reader = new FileReader();
  
      // Get the image
      var file = $(evt.target).find('input[type="file"]').get(0).files[0];
  
      reader.readAsDataURL(file);
  
      reader.onload = function(e){
      console.log('Imagen cargada');
      $("#image").attr("src", e.target.result);
  };


  
}); 


</script>
<script src="assets/js/app.js"></script>
</body>
</html>
